{"version":3,"file":"static/js/53.e9cabfec.chunk.js","mappings":"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","sources":["components/AudioPlayer/styles.ts","components/common/icons.tsx","scene/Base/BaseScene.ts","components/SceneMgr/index.ts","scene/Bar2D/Bar2D.ts","scene/Pixel/Pixel.ts","scene/Line/Line.ts","utils/utils.ts","components/AudioPlayer/index.tsx","components/PlayList/style.ts","components/PlayList/index.tsx","components/EffectPicker/style.ts","components/EffectPicker/index.tsx","App.tsx"],"sourcesContent":["import styled from \"@emotion/styled\";\n\nconst mainColor = \"#f0f0f0\";\n\nexport const PlayerWrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n\n  .audio-player {\n    padding: 0 20px;\n    height: 80px;\n    background-image: linear-gradient(180deg, #00000000 0%, #00000080 100%);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: ${mainColor};\n  }\n\n  .progress-bar{\n    position: absolute;\n    top: -4px;\n    left: 20px;\n    right: 20px;\n\n    .ant-slider{\n      margin: 0;\n\n      .ant-slider-rail {\n        background-color: rgba(255, 255, 255, 0.3);\n        /* background-color: white;\n        box-shadow: 0 0 12px 0px rgb(255 255 255), 0 0 12px 3px rgb(0 210 255), 0 0 20px 0px rgb(0 179 255), 0 0 40px 10px rgb(0 155 255), 0 0 60px 20px rgb(0 155 255); */\n      }\n\n      .ant-slider-track{\n        background-color: ${mainColor};\n      }\n    }\n  }\n\n  .center-bar{\n    width: 240px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n    z-index: 2;\n    \n    .play-btn{\n      width: 44px;\n      height: 44px;\n      border: 2px solid ${mainColor}; \n      border-radius: 50%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      svg{\n        width: 30px;\n        height: 30px;\n      }\n\n      .icon-play{\n        position: relative;\n        left: 1px;\n      }\n    }\n\n    .pager-btn{\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      svg{\n        width: 30px;\n        height: 30px;\n      }\n    }\n  }\n\n  .left-bar{\n    position: absolute;\n    left: 20px;\n    text-align: left;\n    display: flex;\n    flex-direction: row;\n\n    .cover{\n      width: 44px;\n      height: 44px;\n      border-radius: 4px;\n      background-size: contain;\n      margin-right: 10px;\n    }\n    .col{\n      display: flex;\n      flex-direction: column;\n    }\n\n    .name{\n      width: 200px;\n      color: white;\n    }\n    \n    .time{\n      margin-top: 5px;\n      color: #ffffff80;\n      font-size: 14px;\n    }\n  }\n\n  .right-bar{\n    position: absolute;\n    right: 20px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    column-gap: 20px;\n\n    .btn{\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      svg{\n        width: 30px;\n        height: 30px;\n      }\n    }\n\n    .list-btn{\n      svg{\n        width: 28px;\n        height: 28px;\n        position: relative;\n        top: -1px;\n      }\n    }\n\n    .volume-wrapper{\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n\n      .volume-slider{\n        width: 100px;\n\n        .ant-slider-rail {\n          background-color: rgb(255, 255, 255, 0.1);\n        }\n\n        .ant-slider-track{\n          background-color: ${mainColor};\n        }\n      }\n    }\n  }\n  \n`","\nexport const IconPlay = () => (\n  <svg className=\"icon icon-play\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M817.088 484.96l-512-323.744C295.232 154.976 282.752 154.592 272.576 160.224 262.336 165.856 256 176.608 256 188.256l0 647.328c0 11.648 6.336 22.4 16.576 28.032 4.8 2.656 10.112 3.968 15.424 3.968 5.952 0 11.904-1.664 17.088-4.928l512-323.616C826.368 533.184 832 522.976 832 512 832 501.024 826.368 490.816 817.088 484.96z\" ></path>\n  </svg>)\n\nexport const IconPause = () => (\n  <svg className=\"icon icon-pause\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M341.332992 142.222336c47.128576 0 85.334016 38.20544 85.334016 85.332992v568.889344c0 47.128576-38.20544 85.332992-85.334016 85.332992-47.127552 0-85.332992-38.20544-85.332992-85.332992V227.555328c0-47.128576 38.20544-85.332992 85.332992-85.332992z m341.334016 0c47.127552 0 85.332992 38.20544 85.332992 85.332992v568.889344c0 47.128576-38.20544 85.332992-85.332992 85.332992-47.128576 0-85.334016-38.20544-85.334016-85.332992V227.555328c0-47.128576 38.20544-85.332992 85.334016-85.332992z\" ></path>\n  </svg>)\n\nexport const IconPrev = () => (\n  <svg className=\"icon icon-prev\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M341.333333 746.666667a21.333333 21.333333 0 0 1-21.333333 21.333333h-42.666667a21.333333 21.333333 0 0 1-21.333333-21.333333v-469.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h42.666667a21.333333 21.333333 0 0 1 21.333333 21.333333zM768 280.32a32.853333 32.853333 0 0 0-15.786667-27.733333l-5.12-2.56a31.146667 31.146667 0 0 0-34.133333 0l-314.453333 222.293333a32 32 0 0 0-13.653334 26.026667v26.453333a32 32 0 0 0 13.653334 26.026667l314.453333 221.013333a31.146667 31.146667 0 0 0 34.133333 0l5.12-2.56a32.426667 32.426667 0 0 0 15.786667-27.733333z\"></path>\n  </svg>)\n\nexport const IconNext = () => (\n  <svg className=\"icon icon-next\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M768 277.333333v469.333334a21.333333 21.333333 0 0 1-21.333333 21.333333h-42.666667a21.333333 21.333333 0 0 1-21.333333-21.333333v-469.333334a21.333333 21.333333 0 0 1 21.333333-21.333333h42.666667a21.333333 21.333333 0 0 1 21.333333 21.333333zM311.04 251.733333a31.146667 31.146667 0 0 0-34.133333 0l-5.12 2.56a32.426667 32.426667 0 0 0-15.786667 26.026667v462.933333a32.853333 32.853333 0 0 0 15.786667 27.733334l5.12 2.56a32 32 0 0 0 34.133333 0l314.453333-221.013334a32 32 0 0 0 13.653334-26.026666v-26.453334a32 32 0 0 0-13.653334-26.026666z\"></path>\n  </svg>)\n\n\nexport const IconVolume = () => (\n  <svg className=\"icon icon-volume\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M462.06 142.1L284.12 320H80c-26.52 0-48 21.48-48 48v288c0 26.5 21.48 48 48 48h204.12l177.94 177.9c30.06 30.06 81.94 8.94 81.94-33.94V176.04c0-42.92-51.92-63.96-81.94-33.94zM992 512c0-127.06-64.12-243.88-171.54-312.48-22.38-14.28-52.06-7.64-66.24 14.92s-7.56 52.42 14.82 66.72C848.54 331.94 896 418.22 896 512s-47.46 180.06-126.96 230.84c-22.38 14.28-29 44.14-14.82 66.72 13.02 20.72 42.24 30.28 66.24 14.92C927.88 755.88 992 639.06 992 512z m-283.54-153.74c-23.16-12.66-52.38-4.32-65.22 18.9-12.78 23.22-4.32 52.4 18.9 65.22C687.96 456.56 704 483.26 704 512c0 28.76-16.04 55.44-41.84 69.62-23.22 12.82-31.68 42-18.9 65.22 12.86 23.32 42.1 31.6 65.22 18.9 56.46-31.1 91.54-90 91.54-153.76s-35.08-122.64-91.56-153.72z\"></path>\n  </svg>)\n\n\nexport const IconVolumeMute = () => (\n  <svg className=\"icon icon-volume-mute\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M430.06 142.1L252.12 320H48c-26.52 0-48 21.48-48 48v288c0 26.5 21.48 48 48 48h204.12l177.94 177.9c30.06 30.06 81.94 8.94 81.94-33.94V176.04c0-42.92-51.92-63.96-81.94-33.94zM923.28 512l91.28-91.28c12.6-12.6 12.6-33.04 0-45.64l-45.64-45.64c-12.6-12.6-33.04-12.6-45.64 0L832 420.72l-91.28-91.28c-12.6-12.6-33.04-12.6-45.64 0l-45.64 45.64c-12.6 12.6-12.6 33.04 0 45.64L740.72 512l-91.26 91.26c-12.6 12.6-12.6 33.04 0 45.64l45.64 45.64c12.6 12.6 33.04 12.6 45.64 0L832 603.28l91.28 91.28c12.6 12.6 33.04 12.6 45.64 0l45.64-45.64c12.6-12.6 12.6-33.04 0-45.64L923.28 512z\"></path>\n  </svg>)\n\nexport const IconFullscreen = () => (\n  <svg className=\"icon icon-fullscreen\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M213.333333 213.333333h213.333334V128H170.666667a42.666667 42.666667 0 0 0-42.666667 42.666667v256h85.333333V213.333333zM170.666667 896h256v-85.333333H213.333333v-213.333334H128v256a42.666667 42.666667 0 0 0 42.666667 42.666667z m725.333333-42.666667v-256h-85.333333v213.333334h-213.333334v85.333333h256a42.666667 42.666667 0 0 0 42.666667-42.666667zM597.333333 213.333333h213.333334v213.333334h85.333333V170.666667a42.666667 42.666667 0 0 0-42.666667-42.666667h-256v85.333333z\" p-id=\"10477\"></path>\n  </svg>)\n\nexport const IconPlayList = () => (\n  <svg className=\"icon icon-play-list\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M90.35039205 899.00880511h843.2992159a22.19208431 22.19208431 0 0 0 22.19208552-22.19208553v-44.38416861a22.19208431 22.19208431 0 0 0-22.19208552-22.19208552H90.35039205a22.19208431 22.19208431 0 0 0-22.19208552 22.19208552v44.38416861a22.19208431 22.19208431 0 0 0 22.19208552 22.19208553z m0-310.68918518h843.2992159a22.19208431 22.19208431 0 0 0 22.19208552-22.19208553v-44.38416862a22.19208431 22.19208431 0 0 0-22.19208552-22.19208552H90.35039205a22.19208431 22.19208431 0 0 0-22.19208552 22.19208552v44.38416862a22.19208431 22.19208431 0 0 0 22.19208552 22.19208553z m355.07335381-310.68918519a22.19208431 22.19208431 0 0 1-22.19208431-22.19208552v-44.38416862a22.19208431 22.19208431 0 0 1 22.19208431-22.19208553h488.22586209a22.19208431 22.19208431 0 0 1 22.19208552 22.19208553v44.38416862a22.19208431 22.19208431 0 0 1-22.19208552 22.19208552H445.42374586zM68.15830653 123.04037267a35.50733563 35.50733563 0 0 1 53.12785066-30.82480541l203.61237724 116.35309985a35.50733563 35.50733563 0 0 1 0 61.64961083l-203.61237724 116.35309985A35.50733563 35.50733563 0 0 1 68.15830653 355.74657238V123.04037267z\" ></path>\n  </svg>)\n\nexport const IconLoop = () => (\n  <svg className=\"icon icon-loop\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M694.4 854.4H195.2l48 44.8c9.6 6.4 16 16 16 28.8-3.2 19.2-19.2 32-38.4 32-9.6 0-22.4-6.4-28.8-12.8l-108.8-96c-12.8-12.8-16-35.2 0-48L192 704c6.4-6.4 19.2-9.6 28.8-9.6 19.2 0 35.2 16 35.2 35.2 0 9.6-6.4 19.2-12.8 25.6l-41.6 38.4h496c112 0 198.4-89.6 198.4-198.4v-86.4c0-19.2 12.8-32 32-32s32 12.8 32 32v86.4c0 140.8-118.4 259.2-265.6 259.2zM329.6 169.6h496l-48-44.8c-9.6-6.4-16-16-16-28.8 3.2-19.2 19.2-32 38.4-32 9.6 0 22.4 6.4 28.8 12.8l108.8 96c12.8 12.8 16 35.2 0 48L832 320c-6.4 6.4-19.2 9.6-28.8 9.6-19.2 0-35.2-16-35.2-35.2 0-9.6 6.4-19.2 12.8-25.6l41.6-38.4H326.4C217.6 233.6 128 323.2 128 435.2v89.6c0 19.2-12.8 32-32 32s-32-12.8-32-32v-86.4C64 288 182.4 169.6 329.6 169.6z\" p-id=\"2716\"></path>\n  </svg>)\n\n\nexport const IconSingleCycle = () => (\n  <svg className=\"icon icon-single-cycle\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M928 476.8c-19.2 0-32 12.8-32 32v86.4c0 108.8-86.4 198.4-198.4 198.4H201.6l41.6-38.4c6.4-6.4 12.8-16 12.8-25.6 0-19.2-16-35.2-35.2-35.2-9.6 0-22.4 3.2-28.8 9.6l-108.8 99.2c-16 12.8-12.8 35.2 0 48l108.8 96c6.4 6.4 19.2 12.8 28.8 12.8 19.2 0 35.2-12.8 38.4-32 0-12.8-6.4-22.4-16-28.8l-48-44.8h499.2c147.2 0 265.6-118.4 265.6-259.2v-86.4c0-19.2-12.8-32-32-32zM96 556.8c19.2 0 32-12.8 32-32v-89.6c0-112 89.6-201.6 198.4-204.8h496l-41.6 38.4c-6.4 6.4-12.8 16-12.8 25.6 0 19.2 16 35.2 35.2 35.2 9.6 0 22.4-3.2 28.8-9.6l105.6-99.2c16-12.8 12.8-35.2 0-48l-108.8-96c-6.4-6.4-19.2-12.8-28.8-12.8-19.2 0-35.2 12.8-38.4 32 0 12.8 6.4 22.4 16 28.8l48 44.8H329.6C182.4 169.6 64 288 64 438.4v86.4c0 19.2 12.8 32 32 32z\" p-id=\"6501\"></path><path d=\"M544 672V352h-48L416 409.6l16 41.6 60.8-41.6V672z\" p-id=\"6502\"></path>\n  </svg>)\n\n\nexport const IconRandom = () => (\n  <svg className=\"icon icon-single-cycle\" viewBox=\"0 0 1024 1024\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" >\n    <path d=\"M844.8 665.6c-6.4-6.4-16-12.8-25.6-9.6-19.2 0-35.2 16-35.2 35.2 0 9.6 6.4 19.2 12.8 25.6l41.6 41.6c-44.8-6.4-86.4-22.4-121.6-51.2-3.2 0-3.2-3.2-6.4-6.4L332.8 304C268.8 233.6 192 195.2 99.2 195.2c-19.2 0-35.2 16-35.2 35.2s16 32 35.2 32c73.6 0 134.4 32 182.4 86.4l384 400 6.4 6.4c48 38.4 108.8 64 172.8 70.4l-48 44.8c-9.6 6.4-16 19.2-16 28.8 0 19.2 19.2 35.2 38.4 32 9.6 0 19.2-6.4 25.6-12.8l99.2-92.8c16-16 16-41.6 0-57.6l-99.2-102.4z m-3.2-556.8c-12.8-16-32-19.2-48-6.4-9.6 6.4-12.8 16-12.8 25.6 0 12.8 3.2 22.4 16 28.8l41.6 41.6c-73.6 9.6-140.8 38.4-192 89.6l-115.2 118.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 16 9.6 25.6 9.6s19.2-3.2 25.6-9.6l112-118.4c41.6-38.4 92.8-64 147.2-70.4l-44.8 44.8c-6.4 6.4-12.8 16-12.8 25.6 0 19.2 16 35.2 32 35.2 9.6 0 19.2-3.2 28.8-9.6L950.4 256c12.8-12.8 12.8-35.2 0-48l-108.8-99.2m-438.4 448c-9.6 0-19.2 3.2-25.6 9.6l-118.4 121.6c-48 44.8-96 67.2-160 67.2H96c-19.2 0-35.2 16-35.2 35.2s16 32 35.2 32h3.2c83.2 0 147.2-32 211.2-86.4l121.6-124.8c6.4-6.4 9.6-12.8 9.6-22.4 0-9.6-3.2-16-9.6-22.4-9.6-6.4-19.2-9.6-28.8-9.6z\" p-id=\"2884\"></path>\n  </svg>)","import { IBaseScene, ISceneProps } from \"../../models/common\"\n\nexport default class BaseScene implements IBaseScene {\n  // canvas dom element\n  el: HTMLCanvasElement | null = null\n\n  audioCtx: AudioContext | null = null\n\n  analyser: AnalyserNode | null = null\n\n  stats: any\n\n  inited = false\n\n  removeResizeEvent?: () => void\n\n  constructor(params: ISceneProps) {\n    Object.assign(this, params)\n  }\n\n  public init () { }\n\n  public stopVisualize () { }\n\n  public resetCanvas () { }\n\n  public drawEachFrame (dataArray: Uint8Array) { }\n\n  public destroy () {\n    this.stopVisualize();\n\n    if (this.removeResizeEvent) {\n      this.removeResizeEvent();\n    }\n  }\n\n};\n\n","import { IEffectMode, ISceneProps } from \"../../models/common\"\nimport Bar2D from \"../../scene/Bar2D/Bar2D\"\nimport Pixel from \"../../scene/Pixel/Pixel\"\nimport Line from \"../../scene/Line/Line\"\nimport { CANVAS_TYPE } from \"../common/constants\"\n// import TestScene from \"../../scene/Test/TestScene\"\n\n\nconst SceneList = [\n  Bar2D,\n  Pixel,\n  Line\n]\n\nconst canvas2dSelector = '#canvas-2d'\nconst canvasWebglSelector = '#canvas-webgl'\n\nexport default class SceneMgr {\n\n  canvas2dEl: HTMLCanvasElement | null = null\n\n  canvasWebglEl: HTMLCanvasElement | null = null\n\n  audioCtx: AudioContext | null = null\n\n  analyser: AnalyserNode | null = null\n\n  scene: any = null\n\n  stats: any = null\n\n  source: MediaStreamAudioSourceNode | null = null\n\n  stream: MediaStream | null = null\n\n  //  ['Bar', 'Pixel', 'Ring']\n  currentEffectMode?: IEffectMode\n\n  constructor() {\n    this.canvas2dEl = document.querySelector(canvas2dSelector);\n    this.canvasWebglEl = document.querySelector(canvasWebglSelector);\n    if (!this.canvas2dEl || !this.canvasWebglEl) {\n      throw new Error('找不到 canvas');\n    }\n    this.canvasWebglEl.width = this.canvas2dEl.width = window.innerWidth;    \n    this.canvasWebglEl.height = this.canvas2dEl.height = window.innerHeight;\n\n    this.stats = new Stats();\n    this.stats.showPanel( 0 ); // 0: fps, 1: ms, 2: mb, 3+: custom\n    document.body.appendChild( this.stats.dom );\n  }\n\n  visualize(stream: MediaStream) {\n    this.stream = stream;\n    // reuse the analyser whenever switching sounds\n    this.audioCtx = this.audioCtx || new AudioContext()\n    this.analyser = this.analyser || this.audioCtx.createAnalyser();\n\n    if(this.audioCtx && this.analyser){\n\n      // if(this.source){\n      //   this.source.disconnect();\n      // }\n      // 获取音频源\n      this.source = this.audioCtx?.createMediaStreamSource(stream);\n      // 将音频源连接解析器\n      this.source.connect(this.analyser);\n\n      // 准备数据数组\n      // this.analyser.fftSize = 256;\n      const bufferLength = this.analyser.frequencyBinCount;\n      console.log(\"bufferLength\", bufferLength);\n      const dataArray = new Uint8Array(bufferLength);\n\n\n      if(!this.scene && this.currentEffectMode){\n        this.toggleEffect(this.currentEffectMode)\n      }\n\n      this.scene.init();\n      this.scene.drawEachFrame(dataArray);\n\n    }\n  }\n\n  stopVisualize() {\n    this.scene?.stopVisualize()\n  }\n\n  resetCanvas() {\n    this.scene.resetCanvas();\n  }\n\n  toggleEffect(effectMode: IEffectMode, cb?: () => void) {\n    this.currentEffectMode = effectMode\n\n    if(!this.analyser || !this.audioCtx){\n      return \n    }\n    if(this.scene){\n      this.scene.destroy();\n    }\n\n    let params = {\n      el: effectMode.type === CANVAS_TYPE.CANVAS_2D ? this.canvas2dEl : this.canvasWebglEl,\n      analyser: this.analyser,\n      audioCtx: this.audioCtx,\n      stats: this.stats\n    } as ISceneProps\n\n\n    this.scene = new SceneList[this.currentEffectMode.id - 1](params)\n\n    cb && cb();\n  }\n\n}","import BaseScene from \"../Base/BaseScene\"\n\n\n\nexport default class Bar2D extends BaseScene {\n\n  frameTimer = 0\n\n  dataLength = 50\n\n  floats: any = [];\n  // 高度\n  FLOAT_HEIGHT = 4;\n  // 下落高度\n  DROP_DISTANCE = 1;\n  // Bar 的 border 宽度\n  BAR_GAP = 2;\n\n\n  init() {\n    if(!this.el) return\n    if(this.inited){\n      return;\n    }\n    this.inited = true\n    \n    const resizeHandler = () => {\n      if (!this.el) {\n        return;\n      }\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      this.el.width = width;\n      this.el.height = height;\n      console.log('do resize')\n    };\n\n    window.addEventListener('resize', resizeHandler);\n\n    this.removeResizeEvent = () => {\n      window.removeEventListener('resize', resizeHandler);\n    }\n  }\n\n  stopVisualize() {\n    if (this.frameTimer) {\n      window.cancelAnimationFrame(this.frameTimer);\n      this.frameTimer = 0\n      this.resetCanvas();\n    }\n  }\n\n  resetCanvas() {\n    if (this.el) {\n      const emptyDataArray = (new Uint8Array(this.dataLength)).map(() => 0);\n      this.clearFloats();\n      this.clearCanvas();\n      this.drawFloats(emptyDataArray);\n    }\n  }\n\n  drawEachFrame(dataArray: Uint8Array) {\n    // 递归调用\n    this.frameTimer = requestAnimationFrame(() => {\n      this.stats.begin();\n\n      this.drawEachFrame(dataArray)\n\n      this.stats.end();\n    });\n\n    if (this.analyser) {\n      // 读取数据\n      this.analyser.getByteFrequencyData(dataArray);\n      // 更新长度\n      const bars = dataArray.slice(0, Math.min(this.dataLength, dataArray.length));\n      // console.log(bars)\n      // 画图\n      this.clearCanvas();\n      this.drawFloats(bars);\n      this.drawBars(bars);\n    }\n  }\n\n  clearFloats() {\n    this.floats = [];\n  }\n\n  clearCanvas() {\n    if (!this.el) {\n      return\n    }\n    const canvasWidth = this.el.width;\n    const canvasHeight = this.el.height;\n    const canvasCtx = this.el.getContext(\"2d\");\n    if (!canvasCtx) {\n      return\n    }\n    // 绘制图形\n    canvasCtx.fillStyle = '#222222';\n    canvasCtx.fillRect(0, 0, canvasWidth, canvasHeight);\n  }\n\n  drawFloats(dataArray: Uint8Array) {\n    if (!this.el) {\n      return\n    }\n    const canvasWidth = this.el.width;\n    const canvasHeight = this.el.height;\n    const canvasCtx = this.el.getContext(\"2d\");\n\n    if (!canvasCtx) {\n      return;\n    }\n\n    // 找到最大值，以及初始化高度\n    dataArray.forEach((item, index) => {\n      // 默认值\n      this.floats[index] = this.floats[index] || this.FLOAT_HEIGHT;\n      // 处理当前值\n      const pushHeight = item + this.FLOAT_HEIGHT;\n      const dropHeight = this.floats[index] - this.DROP_DISTANCE;\n      // 取最大值\n      this.floats[index] = Math.max(dropHeight, pushHeight);\n    })\n\n    const barWidth = canvasWidth / dataArray.length - this.BAR_GAP;\n    let x = 0;\n\n    this.floats.forEach((floatItem: number) => {\n      const floatHeight = floatItem / 128 * canvasHeight / 2;\n\n      canvasCtx.fillStyle = '#bbb';\n      canvasCtx.fillRect(x, canvasHeight - floatHeight, barWidth, this.FLOAT_HEIGHT);\n\n      x += barWidth + this.BAR_GAP;\n    })\n  }\n\n  drawBars(dataArray: Uint8Array) {\n    if (!this.el) {\n      return\n    }\n    const canvasWidth = this.el.width;\n    const canvasHeight = this.el.height;\n    const canvasCtx = this.el.getContext(\"2d\");\n\n    if (!canvasCtx) {\n      return;\n    }\n    const barWidth = canvasWidth / dataArray.length - this.BAR_GAP\n    let x = 0;\n\n    dataArray.forEach((dataItem) => {\n      const barHeight = dataItem / 128 * canvasHeight / 2;\n\n      // 添加渐变色\n      const gradient = canvasCtx.createLinearGradient(canvasWidth / 2, 0, canvasWidth / 2, canvasHeight);\n      // gradient.addColorStop(0, '#68b3ec');\n      // gradient.addColorStop(0.5, '#4b5fc9');\n      // gradient.addColorStop(1, '#68b3ec');\n      gradient.addColorStop(0, 'red');\n      gradient.addColorStop(0.5, 'yellow');\n      gradient.addColorStop(1, 'green');\n\n      // 画 bar\n      canvasCtx.fillStyle = gradient;\n      canvasCtx.fillRect(x, canvasHeight - barHeight, barWidth, barHeight);\n\n      x += barWidth + this.BAR_GAP;\n    })\n  }\n}","import { ISceneProps } from \"../../models/common\"\nimport BaseScene from \"../Base/BaseScene\"\n\n/**\n * use virtual canvas to draw rectangles\n * use output canvas to add blur (glow) effects\n */\nexport default class Pixel extends BaseScene {\n  \n  ctx: CanvasRenderingContext2D | null\n  postctx: CanvasRenderingContext2D | null\n\n  frame = 0\n\n  frameTimer = 0\n\n  dataLength = 60\n\n  dataOffset = 5\n\n  gap = 6\n\n  constructor(params: ISceneProps) {\n    super(params)\n\n    this.ctx = document.createElement('canvas').getContext('2d')\n    if (!this.el) {\n      this.postctx = null;\n      return;\n    }\n    this.postctx = this.el.getContext('2d')\n  }\n\n  init() { \n    if(!this.el) return\n    if(this.inited){\n      return;\n    }\n    this.inited = true\n    \n    const resizeHandler = () => {\n      if (!this.el) {\n        return;\n      }\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      this.el.width = width;\n      this.el.height = height;\n      console.log('do resize')\n    };\n    window.addEventListener('resize', resizeHandler);\n\n    this.removeResizeEvent = () => {\n      window.removeEventListener('resize', resizeHandler);\n    }\n\n  }\n\n  stopVisualize() {\n    if (this.frameTimer) {\n      window.cancelAnimationFrame(this.frameTimer);\n      this.frameTimer = 0\n      this.frame = 0\n      this.resetCanvas();\n    }\n  }\n\n  resetCanvas() {\n    if (this.el) {\n      this.clearCanvas();\n    }\n  }\n\n  clearCanvas() {\n    if (!this.postctx) {\n      return\n    }\n    this.postctx.clearRect(0, 0, this.postctx.canvas.width, this.postctx.canvas.height)\n  }\n\n  draw(dataArray: Uint8Array) {\n    if (!this.el || !this.postctx || !this.ctx) {\n      return;\n    }\n    this.frame++\n\n    // Resizing\n    this.ctx.canvas.width = this.postctx.canvas.width = this.el.width\n    this.ctx.canvas.height = this.postctx.canvas.height = this.el.height\n\n    let ctx = this.ctx;\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n\n    let unitWidth = this.el.width / this.dataLength\n    let startX = this.gap\n    let startY = this.el.height * 0.8\n    let dotWidth = unitWidth - this.gap\n\n    const bars = dataArray.slice(this.dataOffset, Math.min(this.dataLength, dataArray.length) + this.dataOffset);\n\n    for (let i = 0; i < this.dataLength; i++) {\n\n      if (!bars[i]) {\n        continue;\n      }\n      let count = bars[i] >> 3\n\n      let realX = startX + i * unitWidth\n      // shader part\n      ctx.fillStyle = `hsl(${(this.frame * 0.5 + i * 2) % 360}, 100%, 50%)`\n\n      for (let j = 0; j < count; j++) {\n        let realY = startY - j * unitWidth\n        // 绘制方形点\n        // ctx.fillRect(realX, realY, dotWidth, dotWidth);\n        ctx.beginPath();\n        ctx.roundRect(realX, realY, dotWidth, dotWidth, 3);\n        ctx.fill();\n      }\n    }\n\n    this.postctx.clearRect(0, 0, this.postctx.canvas.width, this.postctx.canvas.height)\n    this.postctx.globalCompositeOperation = 'source-over'\n    this.postctx.drawImage(this.ctx.canvas, 0, 0)\n    this.postctx.globalCompositeOperation = 'lighten'\n    this.postctx.filter = 'blur(4px)'\n    this.postctx.drawImage(this.ctx.canvas, 0, 0)\n    this.postctx.filter = 'blur(0)'\n    this.postctx.globalCompositeOperation = 'source-over'\n\n  }\n\n  drawEachFrame(dataArray: Uint8Array) {\n    if (!this.el || !this.postctx || !this.ctx) {\n      return;\n    }\n\n    this.frameTimer = requestAnimationFrame(() => {\n      this.stats.begin();\n      this.drawEachFrame(dataArray)\n      this.stats.end();\n    })\n\n    if (this.analyser) {\n      // 读取数据\n      this.analyser.getByteFrequencyData(dataArray);\n      this.draw(dataArray)\n    }\n  }\n\n}\n","\nimport * as THREE from 'three';\nimport BaseScene from '../Base/BaseScene';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\n/**\n * Threejs学习Demo\n*/\nexport default class Line extends BaseScene {\n\n  renderer: THREE.WebGLRenderer | null = null\n\n  scene?: THREE.Scene\n\n  camera?: THREE.PerspectiveCamera\n\n  cube?: THREE.Mesh\n\n  particleGeometry?: THREE.BufferGeometry\n\n  length = 1024\n\n  inited = false\n\n  controls: OrbitControls | null = null\n\n  init() {\n    if(!this.el) return\n    if(this.inited){\n      return;\n    }\n    this.inited = true\n\n    this.scene = new THREE.Scene();\n    this.camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 2000);\n    this.camera.position.set(0, 50, 400);\n\n    this.renderer = new THREE.WebGLRenderer({\n      antialias: true,\n      canvas: this.el\n    });\n \n    this.drawParticle();\n\n    this.controls = new OrbitControls(this.camera, this.el);\n    this.controls.autoRotate = true;\n\n\n    const resizeHandler = () => {\n      if (!this.el) {\n        return;\n      }\n      var width = window.innerWidth;\n      var height = window.innerHeight;\n      this.el.width = width;\n      this.el.height = height;\n      if (this.renderer && this.camera) {\n        this.renderer.setSize(width, height);\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n      }\n    };\n\n    window.addEventListener('resize', resizeHandler);\n\n    this.removeResizeEvent = () => {\n      window.removeEventListener('resize', resizeHandler);\n    }\n\n  }\n\n  drawParticle() {\n    if (!this.scene || !this.camera) {\n      return;\n    }\n\n    this.particleGeometry = new THREE.BufferGeometry();\n    const positions = new Float32Array(this.length * 3);\n    const colors = new Float32Array(this.length * 3);\n\n    for (let i = 0, j = 0, l = positions.length; i < l; i += 3, j++) {\n      positions[i] = (j - this.length/2) * 1.1;\n      positions[i + 1] = 0;\n      positions[i + 2] = 0;\n\n      colors[i] = 1;\n      colors[i + 1] = 1;\n      colors[i + 2] = 1;\n    }\n\n    this.particleGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n    this.particleGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));\n\n    const material = new THREE.PointsMaterial({ vertexColors: true, size: 3 });\n    const particles = new THREE.Points(this.particleGeometry, material);\n    this.scene?.add(particles);\n\n    const gridHelper = new THREE.GridHelper(400, 10);\n    this.scene?.add(gridHelper);\n  }\n\n  drawEachFrame ( dataArray: Uint8Array) {\n    \n    this.renderer?.setAnimationLoop(() => {\n      this.stats.begin();\n      this.controls?.update();\n      this.drawEachFrame(dataArray)\n      this.stats.end();\n    });\n\n    if (!this.scene || !this.camera || !this.particleGeometry) {\n      return;\n    }\n    if (this.analyser) {\n\n      this.analyser.getByteFrequencyData(dataArray);\n      const positions = this.particleGeometry.attributes.position.array;\n      const colors = this.particleGeometry.attributes.color.array;\n      const half = this.length / 2\n      for (let i = 0; i < half; i++) {\n        // 每个粒子的索引\n        const indexRight = (i + half) * 3;\n        const indexLeft = (half - i) * 3;\n\n        // 更新每个粒子的位置\n        positions[indexLeft + 1] = positions[indexRight + 1] = dataArray[i] / 2; // 更新 y 坐标\n        colors[indexLeft + 1] = colors[indexRight + 1] = dataArray[i]/255;\n        colors[indexLeft + 2] = colors[indexRight + 2] = 1 - dataArray[i]/255;\n      }\n\n      this.particleGeometry.attributes.position.needsUpdate = true; // 标记顶点位置属性已更新\n      this.particleGeometry.attributes.color.needsUpdate = true; // 标记顶点位置属性已更新\n\n      this.camera.lookAt(this.scene.position);\n\n      this.renderer?.render(this.scene, this.camera);\n    }\n  }\n\n\n  stopVisualize() {\n    this.renderer?.setAnimationLoop(null);\n  }\n\n}","import { PlayListItem } from \"../models/common\";\n\nconst jsmediatags = require('jsmediatags-web');\n\n\nexport const formatTime = (totalSeconds: number): string => {\n  const hours = Math.floor(totalSeconds / 3600);\n  const minutes = Math.floor((totalSeconds % 3600) / 60);\n  const seconds = Math.floor(totalSeconds % 60);\n\n  const displayHours = hours > 0 ? hours.toString().padStart(2, '0') : '';\n  const displayMinutes = minutes.toString().padStart(2, '0');\n  const displaySeconds = seconds.toString().padStart(2, '0');\n\n  return [displayHours, displayMinutes, displaySeconds]\n    .filter(v => v !== '')\n    .join(':')\n}\n\ninterface IAudioInfo {\n  title: string;\n  artist: string;\n  cover: string;\n}\n\nexport const decodeMusic = (file: any) => {\n  return new Promise<IAudioInfo>((resolve, reject) => {\n    jsmediatags.read(file, {\n      onSuccess: function (info: any) {\n        console.log(info)\n        var picture = info.tags.picture;\n        if (picture) {\n          var base64String = '';\n          for (let i = 0; i < picture.data.length; i++) {\n            base64String += String.fromCharCode(picture.data[i]);\n          }\n          var imageUri = 'data:' + picture.format + ';base64,' + btoa(base64String);\n          resolve({\n            title: info.tags.title,\n            artist: info.tags.artist,\n            cover: imageUri\n          })\n        }\n      },\n      onError: function (error: any) {\n        console.error(error);\n        reject(error)\n      }\n    });\n  })\n\n}\n\n\nexport const presetLocalMusic = async (file: string) => {\n\n  return new Promise<PlayListItem>((resolve, reject) => {\n    \n    fetch(file)\n    .then(response => {\n      // 确保请求成功\n      if (!response.ok) {\n        reject('Network response was not ok');\n      }\n      // 将响应转换为 Blob\n      return response.blob();\n    })\n    .then(async (file) => {\n      const blobUrl = URL.createObjectURL(file);\n      const filename = \"Unknown\";\n\n      const params = await decodeMusic(file)\n      resolve({ name: filename, url: blobUrl, ...params })\n    })\n    \n  })\n    \n  \n}\n","import React, { FC, useEffect, useRef, useState } from \"react\"\nimport { PlayerWrapper } from \"./styles\";\nimport { Slider, Typography } from 'antd';\nimport { IconFullscreen, IconLoop, IconNext, IconPause, IconPlay, IconPlayList, IconPrev, IconRandom, IconSingleCycle, IconVolume, IconVolumeMute } from \"../common/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { IStore } from \"../../models/common\";\nimport { updateCurrentItem, updatePlayList, updatePlayListVisible, updatePlayMode, updateRandomPlayList } from \"../../store/reducers/common\";\nimport SceneMgr from \"../SceneMgr\";\nimport { formatTime, presetLocalMusic } from \"../../utils/utils\";\nimport { shuffle } from 'lodash';\n\n/**\n * I import the first music by hard coding here, \n * bacause the mp3 decoder only works through Blob\n */\nimport breath from '../../assets/audio/薬師寺寛邦,キッサコ - 呼吸.mp3';\nimport { defaultPlayList, PLAY_MODE, TOTAL_PLAY_MODE } from \"../common/constants\";\n\nconst {Text} = Typography\n\nconst Audio: FC = () => {\n  const audioRef = useRef<HTMLAudioElement>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [volume, setVolume] = useState(Number(localStorage.getItem('volume')) || 0.5);\n  const [duration, setDuration] = useState(0);\n\n  const dispatch = useDispatch()\n  const playList = useSelector((state: IStore) => state.common.playList)\n  const randomPlayList = useSelector((state: IStore) => state.common.randomPlayList)\n  const currentItem = useSelector((state: IStore) => state.common.currentItem)\n  const playListVisible = useSelector((state: IStore) => state.common.playListVisible)\n  const playMode = useSelector((state: IStore) => state.common.playMode)\n  const effectMode = useSelector((state: IStore) => state.common.effectMode)\n\n  const lastVolume = useRef(volume)\n\n  const pageInited = useRef(false)\n  const sceneMgr = useRef<SceneMgr>()\n\n  // toggle between play and pause\n  const handlePlay = () => {\n    if (!currentItem) {\n      return;\n    }\n    if (audioRef.current) {\n      if (isPlaying) {\n        onPause();\n      } else {\n        onPlay();\n      }\n      setIsPlaying(!isPlaying);\n    }\n  }\n\n  const onPlay = async () => {\n    sceneMgr.current?.stopVisualize();\n    await audioRef.current?.play();\n    const audio = audioRef.current as any;\n    const stream = audio.captureStream();\n    sceneMgr.current?.visualize(stream)\n  }\n\n  const onPause = async () => {\n    audioRef.current?.pause();\n    sceneMgr.current?.stopVisualize();\n\n    // sceneMgr.current?.resetCanvas();\n  }\n\n  const handleProgressChange = (value: number) => {\n    if (audioRef.current) {\n      audioRef.current.currentTime = value;\n    }\n  }\n\n  const handleVolumeChange = (value: number) => {\n    if (audioRef.current) {\n      audioRef.current.volume = value;\n      setVolume(value);\n\n      if (value) {\n        lastVolume.current = value\n        localStorage.setItem('volume', value.toString())\n      }\n    }\n  }\n\n  const handleTimeUpdate = () => {\n    if (audioRef.current) {\n      setCurrentTime(audioRef.current.currentTime);\n      setDuration(audioRef.current.duration);\n    }\n  }\n\n  const toggleFullScreen = () => {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      document.documentElement.requestFullscreen();\n    }\n  }\n\n  const onPrev = () => {\n    const list = playMode === PLAY_MODE.RANDOM ? randomPlayList : playList\n\n    const index = list.findIndex((item) => item.url === currentItem?.url);\n    if (index > 0) {\n      dispatch(updateCurrentItem(list[index - 1]))\n    }else{\n      dispatch(updateCurrentItem(list[list.length - 1]))\n    }\n  }\n\n  const onNext = () => {\n    const list = playMode === PLAY_MODE.RANDOM ? randomPlayList : playList\n\n    const index = list.findIndex((item) => item.url === currentItem?.url);\n    if (index < list.length - 1) {\n      dispatch(updateCurrentItem(list[index + 1]))\n    }else{\n      dispatch(updateCurrentItem(list[0]))\n    }\n  }\n\n  const onEnded = () => {\n    if (audioRef.current) {\n      if (playMode === PLAY_MODE.SINGLE) {\n        audioRef.current.currentTime = 0\n        onPlay();\n      }else{\n        onNext();\n      }\n    }\n  }\n\n  const switchPlayMode = (playMode: number) => {\n    const nextMode = (playMode + 1) % TOTAL_PLAY_MODE\n    dispatch(updatePlayMode(nextMode))\n\n  }\n\n  // switch music \n  // (do not trigger before user interact - browser autoplay policy)\n  useEffect(() => {\n    if (pageInited.current) {\n      if (currentItem) {\n        onPlay();\n        setIsPlaying(true)\n      } else {\n        onPause();\n        setIsPlaying(false)\n      }\n    }\n\n  }, [currentItem])\n\n\n\n  useEffect(() => {\n    // load default music\n    let list = defaultPlayList;\n\n    Promise.all(defaultPlayList.map(presetLocalMusic)).then((items) => {\n      const nextList = [...playList, ...items];\n      dispatch(updatePlayList(nextList));\n      dispatch(updateCurrentItem(nextList[0]));\n\n      setTimeout(() => {\n        pageInited.current = true\n      }, 1000)\n    });\n\n    sceneMgr.current = new SceneMgr()\n\n  }, [])\n\n\n  useEffect(() => {\n    if(playMode === PLAY_MODE.RANDOM){\n      dispatch(updateRandomPlayList(shuffle([...playList])))\n    }\n  }, [playList, playMode])\n\n  useEffect(() => {\n    if(effectMode){\n      sceneMgr.current?.toggleEffect(effectMode, () => {\n        if(sceneMgr.current?.stream){\n          sceneMgr.current?.visualize(sceneMgr.current?.stream)\n        }\n      })\n    }\n  }, [effectMode])\n\n  return (\n    <PlayerWrapper>\n      <audio\n        ref={audioRef}\n        src={currentItem?.url}\n        onTimeUpdate={handleTimeUpdate}\n        onEnded={onEnded}\n      />\n      <div className=\"audio-player\">\n        <div className=\"progress-bar\">\n          <Slider\n            min={0}\n            max={duration}\n            step={0.1}\n            value={currentTime}\n            onChange={handleProgressChange}\n          />\n        </div>\n\n        <div className=\"left-bar\">\n          <div className=\"cover\" style={{\n            backgroundImage: `url(${currentItem?.cover})`\n          }}></div>\n          <div className=\"col\">\n            <Text className=\"name\" ellipsis>{currentItem?.title ? `${currentItem?.title} - ${currentItem?.artist}` : currentItem?.name}</Text>\n            <div className=\"time\">{formatTime(currentTime)} / {formatTime(duration)}</div>\n          </div>\n        </div>\n\n        <div className=\"center-bar\">\n          <div className=\"pager-btn prev-btn\" onClick={onPrev}>\n            <IconPrev />\n          </div>\n          <div className=\"play-btn\" onClick={handlePlay}>\n            {isPlaying ? <IconPause /> : <IconPlay />}\n          </div>\n\n          <div className=\"pager-btn next-btn\" onClick={onNext}>\n            <IconNext />\n          </div>\n        </div>\n\n        <div className=\"right-bar\">\n          <div className=\"volume-wrapper\">\n            <div className=\"btn volume-btn\" onClick={() => handleVolumeChange(volume ? 0 : lastVolume.current)}>\n              {volume === 0 ? <IconVolumeMute /> : <IconVolume />}\n            </div>\n            <Slider\n              className=\"volume-slider\"\n              min={0}\n              max={1}\n              step={0.01}\n              value={volume}\n              onChange={handleVolumeChange}\n            />\n          </div>\n\n          <div className=\"btn mode-btn\" onClick={() => switchPlayMode(playMode)}>\n            {playMode === PLAY_MODE.LOOP && <IconLoop />}\n            {playMode === PLAY_MODE.SINGLE && <IconSingleCycle />}\n            {playMode === PLAY_MODE.RANDOM && <IconRandom />}\n          </div>\n\n          <div className=\"btn list-btn\" onClick={() => dispatch(updatePlayListVisible(!playListVisible))}>\n            <IconPlayList />\n          </div>\n\n          <div className=\"btn fullscreen-btn\" onClick={toggleFullScreen}>\n            <IconFullscreen />\n          </div>\n        </div>\n      </div>\n    </PlayerWrapper>\n  )\n};\n\nexport default Audio;\n\n","import { css } from \"@emotion/react\";\nimport styled from \"@emotion/styled\";\n\n\nexport const scrollLight = css`\n  ::-webkit-scrollbar-track-piece{\n    background-color: rgba(255, 255, 255, 0.3);\n    -webkit-border-radius:5px;\n  }\n  ::-webkit-scrollbar{\n    width: 4px;\n    height: 4px;\n  }\n  ::-webkit-scrollbar-thumb:vertical{\n    height:18px;\n    background-color: white;\n    -webkit-border-radius: 8px;\n    outline-offset:-2px;\n  }\n\n  ::-webkit-scrollbar-thumb:horizontal{\n    width: 18px;\n    background-color: #ccc;\n    -webkit-border-radius: 8px;\n  }\n\n  ::-webkit-scrollbar-thumb:hover{\n    height:18px;\n    background-color:#aaa;\n    -webkit-border-radius: 8px;\n  }\n`\n\nexport const ListWrapper = styled.div`\n  position: absolute;\n  right: 20px;\n  top: 50px;\n  bottom: 100px;\n  width: 300px;\n  background-color: rgba(0,0,0,0.4);\n  border-radius: 20px;\n\n  color: #f0f0f0;\n\n  .header{\n    padding: 0 15px;\n    text-align: left;\n    font-weight: 600;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    height: 50px;\n\n    .add-btn{\n      width: 30px;\n      height: 24px;\n      line-height: 22px;\n      text-align: center;\n      border-radius: 5px;\n      border: 1px solid #999;\n      font-size: 24px;\n      font-weight: 400;\n      color: #999;\n      cursor: pointer;\n    }\n  }\n\n  .body{\n    position: absolute;\n    top: 50px;\n    left: 0;\n    right: 0;\n    bottom: 50px;\n    overflow: auto;\n\n    ${scrollLight};\n  }\n\n  .list-item{\n    background-color: #ffffff05;\n    padding: 10px 15px;\n    text-align: left;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    .text{\n      color: #999;\n    }\n\n    .delete-btn{\n      color: #999;\n\n      &:hover{\n        color:#eee;\n      }\n    }\n\n    &.active{\n      background-color: #ffffff10;\n      .text{\n        color: #fff;\n        text-shadow: 0 0 2px #fff;\n      }\n    }\n  }\n\n  .footer{\n    position: absolute;\n    bottom: 0;\n    padding: 15px 0;\n    text-align: center;\n    left: 0;\n    right: 0;\n    color: #ffffff80;\n  }\n`","import React, { ChangeEventHandler } from \"react\"\nimport { ListWrapper } from \"./style\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { IStore } from \"../../models/common\";\nimport {Typography} from \"antd\";\nimport { updateCurrentItem, updatePlayList } from \"../../store/reducers/common\";\nimport { decodeMusic } from \"../../utils/utils\";\nconst {Text} = Typography\n\nconst PlayList = () => {\n  const dispatch = useDispatch()\n  const list = useSelector((state: IStore) => state.common.playList)\n  const currentItem = useSelector((state: IStore) => state.common.currentItem)\n\n  const fileRef = React.createRef<HTMLInputElement>();\n\n  const handleFileUpload = async (files: FileList) => {\n    const promises = Array.from(files).map(async (file) => {\n      const blobUrl = URL.createObjectURL(file);\n      const filename = file.name.split('.')[0];\n  \n      const params = await decodeMusic(file)\n  \n      return { name: filename, url: blobUrl, ...params };\n    });\n  \n    const newList = await Promise.all(promises);\n    dispatch(updatePlayList([...list, ...newList]));\n  };\n\n  \n  const onUpload: ChangeEventHandler<HTMLInputElement> = (e) => {\n    if (e.target.files) {\n      handleFileUpload(e.target.files);\n    }\n  };\n  const handleDrop = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const files = e.dataTransfer.files;\n    \n    if (files.length > 0) {\n      handleFileUpload(files);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  return (\n    <ListWrapper onDrop={handleDrop} onDragOver={handleDragOver}>\n      <div className=\"header\">\n        <div className=\"title\">\n          Play List\n        </div>\n        <div className=\"action\">\n          <div className=\"add-btn\" onClick={(e) => {\n            e.stopPropagation();\n            fileRef.current?.click()\n          }}>\n            +\n          </div>\n          <input style={{display: 'none'}} ref={fileRef} type=\"file\" onChange={onUpload} multiple accept=\"audio/*\"/>\n          <div className=\"btn collapse-btn\">\n\n          </div>\n        </div>\n      </div>\n      <div className=\"body\">\n        <div className=\"list-inner\">\n          {\n            list.map((item: any, index: number) => {\n              return (\n                <div className={`list-item ${currentItem?.url === item.url ? 'active' : ''}`} key={index} \n                onDoubleClick={() => dispatch(updateCurrentItem(item))}>\n                  <Text className=\"text\" ellipsis>\n                    {item.title ? `${item.title} - ${item.artist}` : item.name}\n                  </Text>\n                  <div className=\"delete-btn\" onClick={(e) => {\n                    e.stopPropagation()\n                    let arr = list.slice()\n                    arr.splice(index, 1)\n                    dispatch(updatePlayList(arr))\n                  }}>✕</div>\n                </div>\n              )\n            })\n          }\n        </div>\n      </div>\n      <div className=\"footer\">\n        <div className=\"note\">drag your music here</div>\n      </div>\n    </ListWrapper>\n  )\n};\n\nexport default PlayList;\n","import styled from \"@emotion/styled\";\n\n\nexport const ListWrapper = styled.div`\n  position: absolute;\n  top: 40%;\n  left: 10px;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 50px;\n  height: 100px;\n  transform: translateY(-50%);\n  row-gap: 15px;\n  font-family: var(--font-family);\n  .dot{\n    width: 15px;\n    height: 15px;\n    border-radius: 50%;\n    border: 2px solid white;\n    transition: all 0.2s;\n    cursor: pointer;\n    transform: scale(1);\n    &:hover, &.active{\n      box-shadow: inset 0 0 2px 4px white;\n    }\n    &:hover{\n      span{\n        transform: translateX(0);\n        opacity: 1;\n      }\n    }\n\n    span{\n      position: absolute;\n      left: 30px;\n      color: white;\n      width: 100px;\n      text-align: left;\n      line-height: 15px;\n      opacity: 0;\n      transition: all 0.2s 0.1s;\n      transform: translateX(-40px);\n    }\n  }\n`","import React from \"react\"\nimport { ListWrapper } from \"./style\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { IStore } from \"../../models/common\";\nimport { updateEffectMode } from \"../../store/reducers/common\";\nimport { effectList } from \"../common/constants\";\n\n\n\nconst EffectPicker = () => {\n  const dispatch = useDispatch();\n  const effectMode = useSelector((state: IStore) => state.common.effectMode)\n\n  return (\n    <ListWrapper>\n      {effectList.map((item, index) => (\n        <div\n          key={index}\n          className={`dot ${item === effectMode ? 'active' : ''}`}\n          onClick={() => dispatch(updateEffectMode(item))}\n        >\n          <span>{item.name}</span>\n        </div>\n      ))}\n    </ListWrapper>\n  )\n};\n\nexport default EffectPicker;\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport AudioPlayer from './components/AudioPlayer';\nimport PlayList from './components/PlayList';\nimport { useSelector } from 'react-redux';\nimport { IStore } from './models/common';\nimport { Image } from 'antd';\n\nimport donateImg from './assets/img/donate.png';\nimport EffectPicker from './components/EffectPicker';\nimport { CANVAS_TYPE } from './components/common/constants';\n\n\nfunction App() {\n  const [visible, setVisible] = useState(false);\n  const playListVisible = useSelector((state: IStore) => state.common.playListVisible)\n  const currentEffectMode = useSelector((state: IStore) => state.common.effectMode)\n\n  return (\n    <div className=\"App\">\n      <canvas id=\"canvas-2d\" className={`canvas ${currentEffectMode.type === CANVAS_TYPE.CANVAS_2D ? '' : 'hidden'}`}/>\n      <canvas id=\"canvas-webgl\" className={`canvas ${currentEffectMode.type === CANVAS_TYPE.WEBGL ? '' : 'hidden'}`}/>\n\n      <EffectPicker />\n\n      <AudioPlayer />\n      { playListVisible && <PlayList />}\n\n      <div className=\"links\">\n        <a href=\"mailto:77941075@qq.com\">Email</a>{\" · \"}\n        <div className='link' onClick={() => setVisible(true)}>Donate</div>\n      </div>\n\n      <Image\n        width={200}\n        style={{ display: 'none' }}\n        src=\"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200\"\n        preview={{\n          visible,\n          src: donateImg,\n          toolbarRender: () => [<div></div>],\n          onVisibleChange: (value) => {\n            setVisible(value);\n          },\n        }}\n      />\n    </div>\n  );\n} \n\nexport default App;\n"],"names":["mainColor","PlayerWrapper","styled","div","_templateObject","_taggedTemplateLiteral","IconPlay","_jsx","className","viewBox","fill","xmlns","width","height","children","d","IconPause","IconPrev","IconNext","IconVolume","IconVolumeMute","IconFullscreen","IconPlayList","IconLoop","IconSingleCycle","_jsxs","IconRandom","BaseScene","constructor","params","el","audioCtx","analyser","stats","inited","removeResizeEvent","Object","assign","this","init","stopVisualize","resetCanvas","drawEachFrame","dataArray","destroy","SceneList","arguments","frameTimer","dataLength","floats","FLOAT_HEIGHT","DROP_DISTANCE","BAR_GAP","resizeHandler","window","innerWidth","innerHeight","console","log","addEventListener","removeEventListener","cancelAnimationFrame","emptyDataArray","Uint8Array","map","clearFloats","clearCanvas","drawFloats","requestAnimationFrame","begin","end","getByteFrequencyData","bars","slice","Math","min","length","drawBars","canvasWidth","canvasHeight","canvasCtx","getContext","fillStyle","fillRect","forEach","item","index","pushHeight","dropHeight","max","barWidth","x","floatItem","floatHeight","dataItem","barHeight","gradient","createLinearGradient","addColorStop","super","ctx","postctx","frame","dataOffset","gap","document","createElement","clearRect","canvas","draw","unitWidth","startX","startY","dotWidth","i","count","realX","concat","j","realY","beginPath","roundRect","globalCompositeOperation","drawImage","filter","renderer","scene","camera","cube","particleGeometry","controls","THREE","position","set","antialias","drawParticle","OrbitControls","autoRotate","setSize","aspect","updateProjectionMatrix","_this$scene","_this$scene2","positions","Float32Array","colors","l","setAttribute","material","vertexColors","size","particles","add","gridHelper","_this$renderer","setAnimationLoop","_this$controls","update","_this$renderer2","attributes","array","color","half","indexRight","indexLeft","needsUpdate","lookAt","render","_this$renderer3","SceneMgr","canvas2dEl","canvasWebglEl","source","stream","currentEffectMode","querySelector","Error","Stats","showPanel","body","appendChild","dom","visualize","AudioContext","createAnalyser","_this$audioCtx","createMediaStreamSource","connect","bufferLength","frequencyBinCount","toggleEffect","effectMode","cb","type","CANVAS_TYPE","CANVAS_2D","id","jsmediatags","require","formatTime","totalSeconds","hours","floor","minutes","seconds","toString","padStart","v","join","decodeMusic","file","Promise","resolve","reject","read","onSuccess","info","picture","tags","base64String","data","String","fromCharCode","imageUri","format","btoa","title","artist","cover","onError","error","presetLocalMusic","async","fetch","then","response","ok","blob","blobUrl","URL","createObjectURL","name","url","Text","Typography","Audio","audioRef","useRef","isPlaying","setIsPlaying","useState","currentTime","setCurrentTime","volume","setVolume","Number","localStorage","getItem","duration","setDuration","dispatch","useDispatch","playList","useSelector","state","common","randomPlayList","currentItem","playListVisible","playMode","lastVolume","pageInited","sceneMgr","onPlay","_sceneMgr$current","_audioRef$current","_sceneMgr$current2","current","play","captureStream","onPause","_audioRef$current2","_sceneMgr$current3","pause","handleVolumeChange","value","setItem","onNext","list","PLAY_MODE","RANDOM","findIndex","updateCurrentItem","useEffect","defaultPlayList","all","items","nextList","updatePlayList","setTimeout","updateRandomPlayList","shuffle","_sceneMgr$current4","_sceneMgr$current5","_sceneMgr$current6","_sceneMgr$current7","ref","src","onTimeUpdate","handleTimeUpdate","onEnded","SINGLE","Slider","step","onChange","style","backgroundImage","ellipsis","onClick","onPrev","handlePlay","nextMode","TOTAL_PLAY_MODE","updatePlayMode","switchPlayMode","LOOP","updatePlayListVisible","toggleFullScreen","fullscreenElement","exitFullscreen","documentElement","requestFullscreen","scrollLight","css","ListWrapper","_templateObject2","PlayList","fileRef","React","handleFileUpload","promises","Array","from","files","split","newList","onDrop","e","preventDefault","stopPropagation","dataTransfer","onDragOver","_fileRef$current","click","display","target","multiple","accept","onDoubleClick","arr","splice","EffectPicker","effectList","updateEffectMode","visible","setVisible","WEBGL","AudioPlayer","href","Image","preview","donateImg","toolbarRender","onVisibleChange"],"sourceRoot":""}