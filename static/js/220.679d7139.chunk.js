"use strict";(self.webpackChunkaudio_player=self.webpackChunkaudio_player||[]).push([[220],{8220:(e,t,i)=>{i.r(t),i.d(t,{default:()=>o});var r=i(5043),s=i(9408);class n{constructor(e){this.el=null,this.renderer=null,this.scene=void 0,this.camera=void 0,this.cube=void 0,this.particleGeometry=void 0,Object.assign(this,e),this.init()}init(){this.el&&(this.scene=new s.Z58,this.camera=new s.ubm(50,window.innerWidth/window.innerHeight,.1,2e3),this.renderer=new s.JeP({antialias:!0,canvas:this.el}),window.addEventListener("resize",(()=>{var e=window.innerWidth,t=window.innerHeight;this.renderer&&this.camera&&(this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix())})),this.drawParticle())}drawBox(){if(!this.scene||!this.camera)return;const e=new s.iNn(1,1,1),t=new s.V9B({color:65280});this.cube=new s.eaF(e,t),this.scene.add(this.cube),this.camera.position.z=5}drawParticle(){var e;if(!this.scene||!this.camera)return;this.particleGeometry=new s.LoY;const t=new Float32Array(3072),i=new Float32Array(3072);for(let s=0,a=0,o=t.length;s<o;s+=3,a++)t[s]=1.1*(a-512),t[s+1]=0,t[s+2]=0,i[s]=1,i[s+1]=1,i[s+2]=1;this.particleGeometry.setAttribute("position",new s.THS(t,3)),this.particleGeometry.setAttribute("color",new s.THS(i,3));const r=new s.BH$({vertexColors:!0}),n=new s.ONl(this.particleGeometry,r);null===(e=this.scene)||void 0===e||e.add(n),this.camera.position.z=100}animateBox(){var e,t;this.scene&&this.camera&&(null===(e=this.renderer)||void 0===e||e.setAnimationLoop((()=>{this.animateBox()})),this.cube&&(this.cube.rotation.x+=.01,this.cube.rotation.y+=.01),null===(t=this.renderer)||void 0===t||t.render(this.scene,this.camera))}animateParticle(){var e,t;if(!this.scene||!this.camera||!this.particleGeometry)return;null===(e=this.renderer)||void 0===e||e.setAnimationLoop((()=>{this.animateParticle()}));const i=this.particleGeometry.attributes.position.array;for(let r=0;r<1024;r++){i[3*r+1]+=Math.random()-.5}this.particleGeometry.attributes.position.needsUpdate=!0,this.camera.lookAt(this.scene.position),null===(t=this.renderer)||void 0===t||t.render(this.scene,this.camera)}}var a=i(579);const o=e=>{const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=t.current;e&&(e.width=window.innerWidth,e.height=window.innerHeight,new n({el:e}))}),[]),(0,a.jsx)("div",{children:(0,a.jsx)("canvas",{ref:t,id:"canvas"})})}}}]);
//# sourceMappingURL=220.679d7139.chunk.js.map